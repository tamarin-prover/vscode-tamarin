# Organization of the plugin's git source repository

 ### .json files
At the root of the project there are several .json files:

- ```package.json```: This file contains basic informations about the extension (name, version, ...), defines the type of file extension the plugin can be used with, allows you to define custom commands and associate keyboard shortcuts ("keybindings") or add actions for menus or right-clicks. Finally, it can be used to indicate executable scripts and specify dependencies. The package-lock.json file is automatically generated by executing the ``npm build`` command.

<br>

- ```language-configuration.json```: This allows you to define snippets to make coding more enjoyable.

<br>

- ``/syntaxes/tamarin.tmLanguage.json``: This file defines the syntax highlighting of code with the help of TextMate.

## src folder

The src folder is separated into various parts required for plugin operation.

- ``extension.ts``: This is the file used to launch the extension. It contains the ``activate`` function, which contains all the tasks performed when the plugin is activated.

<br>

- ```grammar```: This folder contains the files needed to use a Tree-sitter grammar inside the plugin. Its use is detailed in the ``Readme_Tree_Sitter.md`` file.


<br>

- ``symbol_table``: contains a file used to create a symbol table for each open Tamarin file in the editor. The symbol table contains ```TamarinSymbol```,  each symbol is associated with:



   - A tree node corresponding to the symbol itself, a type, another node corresponding to the context in which this symbol appears (rule, lemma, formula in a lemma), a name and associated range in the tamarin file, an arity if it's a fact or a function, a type if it's a variable (public, fresh ...), and a ``quantified_formula`` node for variables in lemmas.

  <br>

  - The various useful node types are listed in the ``DeclarationType`` enumeration.

<br>

- ```features```: Contains all the functionalities
offered by the plugin .



  - ```syntax_error.ts``` is the only file that will parse files that are opened in the vscode editor. Files are re-parsed as soon as they are modified. It also detects semantic errors and initiates creation of a symbol table for each file.

  <br>

  - ```run_shortcut.ts``` file provides a shortcut to launch tamarin in normal or auto sources mode in the bottom right-hand corner of the editor.

  <br>

  - ``welformedness_checks.ts`` This file contains all semantic checks based on the symbol table.

  <br>

  - ``rename.ts`` file contains the rename function, which is performed by right-clicking on a token. Variables with the same name in a rule are all renamed, and variables with the same name and quantifier in lemmas are renamed.

  <br>

   - ``go_to.ts`` file contains functionality to go to the function definition and navigate between the occurrences of a fact.

<br>

- ```test```: Contains files used to test the tree structure.